; Very simple HTTP GET
defpackage simple-curl :
   import core
   import curl

println("Initializing handle...")

val handle = Handle()

handle[curl/opt/url] = "http://example.com"
; example.com is redirected, so we tell libcurl to follow redirection
handle[curl/opt/followlocation] = true

println("Performing request...")

; Perform the request, errors thrown with Stanza primitives
val s:String = perform(handle)

print("The string is: ")
println(s)

; always cleanup
cleanup(handle)
